task installGitHook(type: Copy) {
    from new File(rootProject.rootDir, "scripts/pre-commit")
    into { new File(rootProject.rootDir, '.git/hooks') }
    fileMode 0775
}

tasks.configureEach { task ->
    if (task.name == 'preBuild') {
        task.dependsOn installGitHook
    }
}